-- MySQL Script generated by MySQL Workbench
-- Fri Jun 10 05:56:57 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema apples
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema apples
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `apples` DEFAULT CHARACTER SET utf8 ;
USE `apples` ;

-- -----------------------------------------------------
-- Table `apples`.`season`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `apples`.`season` ;

CREATE TABLE IF NOT EXISTS `apples`.`season` (
  `idseason` INT NOT NULL,
  `season` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`idseason`),
  UNIQUE INDEX `season_UNIQUE` (`season` ASC)  )
ENGINE = InnoDB;

--
-- Dumping data for table `season`
--

INSERT INTO `season` (`idseason`, `season`) VALUES
(1, 'Early'),
(3, 'Late'),
(2, 'Mid');

-- --------------------------------------------------------


-- -----------------------------------------------------
-- Table `apples`.`crop`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `apples`.`crop` ;

CREATE TABLE IF NOT EXISTS `apples`.`crop` (
  `idcrop` INT NOT NULL AUTO_INCREMENT,
  `cropName` VARCHAR(10) NULL,
  PRIMARY KEY (`idcrop`),
  UNIQUE INDEX `cropName_UNIQUE` (`cropName` ASC)  )
ENGINE = InnoDB;

--
-- Dumping data for table `crop`
--

INSERT INTO `crop` (`idcrop`, `cropName`) VALUES
(3, 'Heavy'),
(1, 'Light'),
(2, 'Moderate');

-- --------------------------------------------------------


-- -----------------------------------------------------
-- Table `apples`.`size`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `apples`.`size` ;

CREATE TABLE IF NOT EXISTS `apples`.`size` (
  `idSize` INT NOT NULL,
  `size` VARCHAR(10) NULL,
  PRIMARY KEY (`idSize`),
  UNIQUE INDEX `size_UNIQUE` (`size` ASC)  )
ENGINE = InnoDB;

--
-- Dumping data for table `size`
--

INSERT INTO `size` (`idSize`, `size`) VALUES
(3, 'Large'),
(2, 'Medium'),
(1, 'Small');

-- --------------------------------------------------------

-- -----------------------------------------------------
-- Table `apples`.`colour`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `apples`.`colour` ;

CREATE TABLE IF NOT EXISTS `apples`.`colour` (
  `idcolour` INT NOT NULL,
  `name` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`idcolour`),
  UNIQUE INDEX `name_UNIQUE` (`name` ASC)  )
ENGINE = InnoDB;


--
-- Dumping data for table `colour`
--

INSERT INTO `colour` (`idcolour`, `name`) VALUES
(5, 'Green'),
(6, 'Orange-Red'),
(4, 'Pink'),
(1, 'Red'),
(2, 'Russet'),
(7, 'Yellow'),
(3, 'Yellow-Green');

-- --------------------------------------------------------


-- -----------------------------------------------------
-- Table `apples`.`appleVariety`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `apples`.`appleVariety` ;

CREATE TABLE IF NOT EXISTS `apples`.`appleVariety` (
  `idappleVariety` VARCHAR(3) NOT NULL,
  `name` VARCHAR(25) NOT NULL,
  `season_idseason` INT NOT NULL,
  `crop_idcrop` INT NOT NULL,
  `size_idSize` INT NOT NULL,
  `colour_idcolour` INT NOT NULL,
  UNIQUE INDEX `name_UNIQUE` (`name` ASC)  ,
  INDEX `fk_appleVariety_season1_idx` (`season_idseason` ASC)  ,
  INDEX `fk_appleVariety_crop1_idx` (`crop_idcrop` ASC)  ,
  INDEX `fk_appleVariety_size1_idx` (`size_idSize` ASC)  ,
  PRIMARY KEY (`idappleVariety`),
  INDEX `fk_appleVariety_colour1_idx` (`colour_idcolour` ASC)  ,
  CONSTRAINT `fk_appleVariety_season1`
    FOREIGN KEY (`season_idseason`)
    REFERENCES `apples`.`season` (`idseason`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_appleVariety_crop1`
    FOREIGN KEY (`crop_idcrop`)
    REFERENCES `apples`.`crop` (`idcrop`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_appleVariety_size1`
    FOREIGN KEY (`size_idSize`)
    REFERENCES `apples`.`size` (`idSize`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_appleVariety_colour1`
    FOREIGN KEY (`colour_idcolour`)
    REFERENCES `apples`.`colour` (`idcolour`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


--
-- Dumping data for table `applevariety`
--

INSERT INTO `applevariety` (`idappleVariety`, `name`, `season_idseason`, `crop_idcrop`, `size_idSize`, `colour_idcolour`) VALUES
('A01', 'Ambassy', 1, 3, 3, 1),
('B02', 'Blenhein-Orange', 2, 3, 2, 2),
('B07', 'Braeburn', 3, 2, 2, 1),
('B08', 'Bramley', 2, 3, 3, 3),
('D04', 'Decio', 2, 1, 1, 4),
('G03', 'Golden-Noble', 2, 2, 3, 5),
('K09', 'Kidds', 1, 3, 2, 6),
('U01', 'Underleaf', 3, 2, 2, 7);


-- -----------------------------------------------------
-- Table `apples`.`tree`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `apples`.`tree` ;

CREATE TABLE IF NOT EXISTS `apples`.`tree` (
  `idTree` INT(7) unsigned zerofill NOT NULL AUTO_INCREMENT,
  `appleVariety_idappleVariety` VARCHAR(3) NOT NULL,
  `retailPrice` INT NOT NULL,
  PRIMARY KEY (`idTree`, `appleVariety_idappleVariety`),
  INDEX `fk_Tree_appleVariety_idx` (`appleVariety_idappleVariety` ASC)  ,
  CONSTRAINT `fk_Tree_appleVariety`
    FOREIGN KEY (`appleVariety_idappleVariety`)
    REFERENCES `apples`.`appleVariety` (`idappleVariety`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `apples`.`orchard`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `apples`.`orchard` ;

CREATE TABLE IF NOT EXISTS `apples`.`orchard` (
  `idOrchard` VARCHAR(3) NOT NULL,
  `Location` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`idOrchard`))
ENGINE = InnoDB;

--
-- Dumping data for table `orchard`
--

INSERT INTO `orchard` (`idOrchard`, `Location`) VALUES
('AM1', 'Ambassy'),
('BO2', 'Blenheim-Orange'),
('DE1', 'Decio'),
('EK1', 'East-Kidds'),
('EU2', 'East-Underleaf'),
('GN1', 'Golden-Noble'),
('NB1', 'North-Braeburn'),
('NB2', 'North-Bramley'),
('NB3', 'North-Bramley'),
('SB1', 'South-Bramley'),
('WU2', 'West-Underleaf');

-- --------------------------------------------------------


-- -----------------------------------------------------
-- Table `apples`.`treesplanted`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `apples`.`treesplanted` ;

CREATE TABLE IF NOT EXISTS `apples`.`treesplanted` (
  `date` DATE NOT NULL,
  `tree_idTree` INT(7) unsigned zerofill NOT NULL,
  `orchard_idOrchard` VARCHAR(3) NOT NULL,
  PRIMARY KEY (`tree_idTree`, `orchard_idOrchard`),
  INDEX `fk_treesplanted_tree1_idx` (`tree_idTree` ASC)  ,
  INDEX `fk_treesplanted_orchard1_idx` (`orchard_idOrchard` ASC)  ,
  CONSTRAINT `fk_treesplanted_tree1`
    FOREIGN KEY (`tree_idTree`)
    REFERENCES `apples`.`tree` (`idTree`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_treesplanted_orchard1`
    FOREIGN KEY (`orchard_idOrchard`)
    REFERENCES `apples`.`orchard` (`idOrchard`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
